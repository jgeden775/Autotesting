# Готовое тестовое окружение (Python + Selenium + pytest)

## О проекте
Написал простенькое (но со вкусом) тестовое окружение для тестирования Web-сайтов. Поддерживаются тесты, написанные на Python + Selenium WebDriver. Реализованы отчёты в виде текстовых файлов и их архивация при накоплении определённого количества.

## Системные требования
* __Python 3.3__ и выше
* __Selenium__ актуальной версии 
* __pytest__ актуальной версии

## Описание
Проект состоит из следующих файлов:
* *__start.py__* - запускает прогон тестов. Перед каждым прогоном, создаёт файл с отчёта, а также проверяет количество уже имеющихся файлов в каталоге с отчётами, и запускает ихархивацию, если требуется.
* *__test_page.py__* - содержит функции, вызывающие файлы с тестами. Сюда же следует добавлять новые автотесты, в формате фреймворка pytest.
* *__func.py__* - в этом файле находятся различные общие функции, используемые как самим окружением, там и конкретными тестами. Если несколько ваших тестов используют одну и ту же функцию, её стоит добавить именно сюда.
* *__conftest.py__* - файл относящийся к фреймворку pytest. Содержит фикстуры - общие данные, используемые для запуска тестов.
* *__file.txt__* - обычный текстовый файл, используемый для проверки форм выбора файла в тестах.
* *__tests__* - каталог в котором находятся файлы с тестами. Новые тесты следует добавлять именно сюда.
* *__results__* - тут находятся отчёты по тестовым прогонам в виде отдельных текстовых файлов, содержащих тв названии текущую дату и время. Новый файл будет появляться после каждого прогона. Если их количество достигнет определённого значения, они будут отправлены в архив и каталог будет очищен.
* *__archive__* - собственно сюда складываются архивированные результаты тестов в виде файлов в формате *__.zip__*.

## Функционал и использование
Для запуска прогона тестов, зпустите файл *__start.py__*.

В этом же файле можно изменить основные рабочие перменные.

Формат даты и времени для имены файла и та что заносится в содержимое файла:
~~~
timestamp = datetime.now().strftime('%d%m%Y-%H%M')
date = datetime.now().strftime('%d-%m-%Y %H:%M:%S')
~~~
В этих переменных указаны рабочие каталоги для отчётов и архива:
~~~
wrk_dir = 'results' 
arc_dir = 'archive' 
~~~
А это отвечает за имя файла отчёта:
~~~
arc_name = f'arch_{timestamp}.zip'
~~~
Функция архивации настраивается тут:
~~~
func.archive_results(wrk_dir, arc_dir, arc_name, 30)
~~~
*Последнее число задаёт количество файлов в каталоге с отчётами, после превышения которого произойдёт архивация.*
